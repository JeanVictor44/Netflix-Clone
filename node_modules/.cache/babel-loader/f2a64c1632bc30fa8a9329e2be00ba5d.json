{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jeanv\\\\OneDrive\\\\Documentos\\\\Netflix-clone\\\\src\\\\pages\\\\Login\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Header } from '../../components/Header';\nimport { FormBox } from '../../components/FormBox';\nimport { Background, Container } from './style';\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { USER_DATA_KEY, USER_KEY } from '../../constants';\nimport { ReactNotifications, Store } from 'react-notifications-component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isEmailInvalid, setIsEmailInvalid] = useState(true);\n  const navigate = useNavigate();\n\n  const login = event => {\n    event.preventDefault();\n    const userCredentialsStorage = JSON.parse(localStorage.getItem(USER_KEY));\n    const userDataStorage = JSON.parse(localStorage.getItem(USER_DATA_KEY));\n    const isCorrectCredentials = (userCredentialsStorage === null || userCredentialsStorage === void 0 ? void 0 : userCredentialsStorage.email) === email && (userCredentialsStorage === null || userCredentialsStorage === void 0 ? void 0 : userCredentialsStorage.password) === password;\n    const haveProfile = Boolean(userDataStorage === null || userDataStorage === void 0 ? void 0 : userDataStorage.profiles);\n\n    if (isCorrectCredentials && haveProfile) {\n      navigate('/profiles');\n    } else if (isCorrectCredentials && haveProfile === false) {\n      navigate('/createprofile');\n    } else if (isCorrectCredentials === false) {\n      Store.addNotification({\n        title: 'Login inválido',\n        message: 'Verifique se a senha ou o email digitado é válido',\n        type: 'danger',\n        container: 'top-right',\n        dismiss: {\n          duration: 2000,\n          onScreen: true\n        }\n      });\n    }\n  };\n\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n\n    if (email.length === 0) {\n      setIsEmailInvalid(true);\n    } else {\n      setIsEmailInvalid(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReactNotifications, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormBox, {\n      isEmailInvalid: isEmailInvalid,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email ou n\\xFAmero de telefone\",\n        onChange: handleEmailChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Senha\",\n        onChange: ev => setPassword(ev.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: login,\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), \"Lembre-se de mim\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          children: \"Precisa de ajuda?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Novo por aqui? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Registre-se agora\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 38\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"OsdwsYsqbOQ2w4PzF1305oD7tXE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/jeanv/OneDrive/Documentos/Netflix-clone/src/pages/Login/index.tsx"],"names":["Header","FormBox","Background","Container","useState","Link","useNavigate","USER_DATA_KEY","USER_KEY","ReactNotifications","Store","Login","email","setEmail","password","setPassword","isEmailInvalid","setIsEmailInvalid","navigate","login","event","preventDefault","userCredentialsStorage","JSON","parse","localStorage","getItem","userDataStorage","isCorrectCredentials","haveProfile","Boolean","profiles","addNotification","title","message","type","container","dismiss","duration","onScreen","handleEmailChange","target","value","length","ev"],"mappings":"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","sourcesContent":["import { Header } from '../../components/Header'\r\nimport { FormBox } from '../../components/FormBox'\r\nimport { Background, Container } from './style'\r\nimport { ChangeEvent, MouseEvent, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { USER_DATA_KEY, USER_KEY } from '../../constants'\r\nimport { User, UserData } from '../../common/types'\r\nimport { ReactNotifications, Store} from 'react-notifications-component'\r\n\r\nexport const Login = () => {\r\n    const [ email, setEmail ] = useState('')\r\n    const [ password, setPassword ] = useState('')\r\n    const [ isEmailInvalid, setIsEmailInvalid ] = useState(true)\r\n    const navigate = useNavigate()\r\n\r\n    const login = (event:MouseEvent<HTMLButtonElement>) => {\r\n        event.preventDefault()\r\n        const userCredentialsStorage = JSON.parse(localStorage.getItem(USER_KEY) as string) as User\r\n        const userDataStorage = JSON.parse(localStorage.getItem(USER_DATA_KEY) as string) as UserData\r\n        \r\n        const isCorrectCredentials = userCredentialsStorage?.email === email && userCredentialsStorage?.password === password \r\n        const haveProfile = Boolean(userDataStorage?.profiles)\r\n\r\n        if(isCorrectCredentials && haveProfile){\r\n            navigate('/profiles')\r\n        }else if(isCorrectCredentials && haveProfile === false){\r\n            navigate('/createprofile')\r\n        }else if( isCorrectCredentials === false ){\r\n            Store.addNotification({\r\n                title:'Login inválido',\r\n                message:'Verifique se a senha ou o email digitado é válido',\r\n                type:'danger',\r\n                container:'top-right',\r\n                dismiss:{\r\n                    duration:2000,\r\n                    onScreen:true\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleEmailChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(event.target.value)\r\n        if(email.length === 0){\r\n            setIsEmailInvalid(true)\r\n        }else {\r\n            setIsEmailInvalid(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Header /> \r\n            <Background/>\r\n            <ReactNotifications />\r\n            <FormBox isEmailInvalid={isEmailInvalid}>\r\n                <h1>Entrar</h1>\r\n                <input type=\"email\" placeholder=\"Email ou número de telefone\" onChange={handleEmailChange}/>\r\n                \r\n                <input type= \"password\" placeholder=\"Senha\" onChange={(ev) => setPassword(ev.target.value)}/>\r\n                <button type=\"submit\" onClick={login}>\r\n                   Entrar\r\n                </button>\r\n                <div>\r\n                    <label>\r\n                        <input type=\"checkbox\" />\r\n                        Lembre-se de mim\r\n                    </label>\r\n                    <a href=\"/\">Precisa de ajuda?</a>\r\n                </div>\r\n                <span>Novo por aqui? <Link to=\"/register\">Registre-se agora</Link>.</span>\r\n                \r\n            </FormBox>\r\n            \r\n        </Container>\r\n        \r\n        \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}