{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jeanv\\\\OneDrive\\\\Documentos\\\\Netflix-clone\\\\src\\\\components\\\\TrailerModal\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect } from 'react';\nimport { TrailerModalContext } from '../../context/TrailerModal';\nimport { ContainerModal, CloseModal } from './style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TrailerModal = ({\n  videoKey\n}) => {\n  _s();\n\n  const {\n    closeTrailerModal,\n    isTrailerModalOpen\n  } = useContext(TrailerModalContext);\n  useEffect(() => {\n    function loadVideo() {\n      let player = new window.YT.Player('player', {\n        events: {\n          onReady: onPlayerReady\n        }\n      });\n      /* Tinha um event */\n\n      function onPlayerReady() {\n        const buttonPause = document.getElementById('closeModal');\n        buttonPause.addEventListener('click', () => {\n          player.pauseVideo();\n        });\n      }\n    }\n\n    if (!window.YT) {\n      const tag = document.createElement('script');\n      tag.src = 'https://www.youtube.com/iframe_api';\n      window.onYouTubeIframeAPIReady = loadVideo;\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n\n      if (firstScriptTag.parentNode) {\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n      }\n    } else {\n      loadVideo();\n    }\n\n    window.addEventListener('click', e => {\n      const target = e.target;\n      const modal = document.querySelector('#root > div');\n\n      if (target === modal) {\n        closeTrailerModal();\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(ContainerModal, {\n    showModal: isTrailerModalOpen,\n    children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n      id: \"player\",\n      width: \"853\",\n      height: \"480\",\n      src: `https://www.youtube.com/embed/${videoKey}?enablejsapi=1`,\n      frameBorder: \"0\",\n      allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n      allowFullScreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CloseModal, {\n      id: \"closeModal\",\n      onClick: closeTrailerModal,\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TrailerModal, \"A6O42ps1xaExN/XEvxl4ew13pk8=\");\n\n_c = TrailerModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrailerModal\");","map":{"version":3,"sources":["C:/Users/jeanv/OneDrive/Documentos/Netflix-clone/src/components/TrailerModal/index.tsx"],"names":["useContext","useEffect","TrailerModalContext","ContainerModal","CloseModal","TrailerModal","videoKey","closeTrailerModal","isTrailerModalOpen","loadVideo","player","window","YT","Player","events","onReady","onPlayerReady","buttonPause","document","getElementById","addEventListener","pauseVideo","tag","createElement","src","onYouTubeIframeAPIReady","firstScriptTag","getElementsByTagName","parentNode","insertBefore","e","target","modal","querySelector"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,SAASC,mBAAT,QAAoC,4BAApC;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,SAA3C;;AAKA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmC;AAAA;;AAC3D,QAAM;AAAEC,IAAAA,iBAAF;AAAqBC,IAAAA;AAArB,MAA2CR,UAAU,CAACE,mBAAD,CAA3D;AACAD,EAAAA,SAAS,CAAC,MAAM;AAEZ,aAASQ,SAAT,GAAqB;AACjB,UAAIC,MAAM,GAAG,IAAIC,MAAM,CAACC,EAAP,CAAUC,MAAd,CAAqB,QAArB,EAA+B;AACxCC,QAAAA,MAAM,EAAE;AACNC,UAAAA,OAAO,EAAEC;AADH;AADgC,OAA/B,CAAb;AAME;;AACF,eAASA,aAAT,GAAyB;AACrB,cAAMC,WAAW,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAApB;AACAF,QAAAA,WAAW,CAACG,gBAAZ,CAA6B,OAA7B,EAAqC,MAAM;AACvCV,UAAAA,MAAM,CAACW,UAAP;AACH,SAFD;AAGH;AACJ;;AAED,QAAG,CAACV,MAAM,CAACC,EAAX,EAAc;AACV,YAAMU,GAAG,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,QAAvB,CAAZ;AACAD,MAAAA,GAAG,CAACE,GAAJ,GAAU,oCAAV;AAEAb,MAAAA,MAAM,CAACc,uBAAP,GAAiChB,SAAjC;AAEA,YAAMiB,cAAc,GAAGR,QAAQ,CAACS,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAvB;;AAEA,UAAGD,cAAc,CAACE,UAAlB,EAA8B;AAC1BF,QAAAA,cAAc,CAACE,UAAf,CAA0BC,YAA1B,CAAuCP,GAAvC,EAA4CI,cAA5C;AACH;AACJ,KAXD,MAWM;AACFjB,MAAAA,SAAS;AACZ;;AAGDE,IAAAA,MAAM,CAACS,gBAAP,CAAwB,OAAxB,EAAiCU,CAAD,IAAO;AACnC,YAAMC,MAAM,GAAGD,CAAC,CAACC,MAAjB;AACA,YAAMC,KAAK,GAAGd,QAAQ,CAACe,aAAT,CAAuB,aAAvB,CAAd;;AACA,UAAGF,MAAM,KAAKC,KAAd,EAAqB;AACjBzB,QAAAA,iBAAiB;AACpB;AAEJ,KAPD;AAQH,GA1CQ,CAAT;AA2CA,sBACI,QAAC,cAAD;AAAgB,IAAA,SAAS,EAAEC,kBAA3B;AAAA,4BACI;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,KAAK,EAAC,KAA1B;AAAgC,MAAA,MAAM,EAAC,KAAvC;AAA6C,MAAA,GAAG,EAAG,iCAAgCF,QAAS,gBAA5F;AAA6G,MAAA,WAAW,EAAC,GAAzH;AAA6H,MAAA,KAAK,EAAC,0FAAnI;AAA8N,MAAA,eAAe;AAA7O;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,UAAD;AAAY,MAAA,EAAE,EAAC,YAAf;AAA4B,MAAA,OAAO,EAAEC,iBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH,CAnDM;;GAAMF,Y;;KAAAA,Y","sourcesContent":["import { useContext, useEffect } from 'react'\r\nimport { TrailerModalContext } from '../../context/TrailerModal'\r\nimport { ContainerModal, CloseModal } from './style'\r\n\r\ninterface TrailerModalProps {\r\n    videoKey:string\r\n}\r\nexport const TrailerModal = ({videoKey}: TrailerModalProps) => {\r\n    const { closeTrailerModal, isTrailerModalOpen} = useContext(TrailerModalContext)\r\n    useEffect(() => {\r\n        \r\n        function loadVideo() {\r\n            let player = new window.YT.Player('player', {\r\n                events: {\r\n                  onReady: onPlayerReady,\r\n                },\r\n              });\r\n            \r\n              /* Tinha um event */\r\n            function onPlayerReady() {\r\n                const buttonPause = document.getElementById('closeModal') as HTMLSpanElement\r\n                buttonPause.addEventListener('click',() => {\r\n                    player.pauseVideo()\r\n                })\r\n            }\r\n        }\r\n\r\n        if(!window.YT){\r\n            const tag = document.createElement('script');\r\n            tag.src = 'https://www.youtube.com/iframe_api';\r\n            \r\n            window.onYouTubeIframeAPIReady = loadVideo\r\n\r\n            const firstScriptTag = document.getElementsByTagName('script')[0];\r\n\r\n            if(firstScriptTag.parentNode) {\r\n                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n            }\r\n        }else {\r\n            loadVideo()\r\n        }\r\n\r\n\r\n        window.addEventListener('click',(e) => {\r\n            const target = e.target\r\n            const modal = document.querySelector('#root > div')\r\n            if(target === modal) {\r\n                closeTrailerModal()\r\n            }\r\n            \r\n        })\r\n    })\r\n    return (\r\n        <ContainerModal showModal={isTrailerModalOpen}>\r\n            <iframe id=\"player\" width=\"853\" height=\"480\" src={`https://www.youtube.com/embed/${videoKey}?enablejsapi=1`} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n            <CloseModal id=\"closeModal\" onClick={closeTrailerModal} >&times;</CloseModal>\r\n        </ContainerModal>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}